pipeline{
    agent any
    environment {
        GOOGLE_APPLICATION_CREDENTIALS_ = credentials("gcp-id")
    }
    stages{
          stage ("first"){
         
            steps{
               
                git branch : "main", url : "https://github.com/ganesh-redy/instance-template.git"
            }
         
        }
        stage("second"){
            steps{
                 sh " echo terraform start"
            }
            
        }
       
        stage("start"){
            steps{
            sh "git connection establish"
            sh "terraform init"
           sh "terraform plan"
           sh "terraform apply -auto-approve"
            }
           
        }
    }
}
